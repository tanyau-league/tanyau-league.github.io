<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Historical Rankings&Awards</title>
	<link rel="icon" href="img/main.ico">
	<link rel="stylesheet" href="css/historical_rankings.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100;300;500;700;900&display=swap"
		rel="stylesheet">
	<link
		href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
		rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@200..900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&display=swap" rel="stylesheet">
	<style>
		.footer-note {
			position: fixed;
			bottom: 20px;
			left: 20px;
			text-align: left;
			color: #7f8c8d;
			font-size: 0.9rem;
			opacity: 0.8;
			z-index: 100;
		}

		/* 新增全宽区块样式 */
		.full-section {
			width: 100%;
			max-width: 1200px;
			margin: 60px auto;
			box-sizing: border-box;
		}

		/* 排行榜全宽调整 */
		.season-rankings {
			width: 100%;
			padding: 0px;
			box-sizing: border-box;
			background: white;
			/* 添加背景色 */
			border-radius: 15px;
			/* 添加圆角 */
			position: relative;
			/* 确保伪元素定位正确 */
			overflow: hidden;
			/* 隐藏超出圆角的部分 */
			box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
			/* 添加阴影 */
		}

		/* 排行榜内部布局调整 */
		.season-rankings .ranklist {
			display: flex;
			justify-content: space-between;
			gap: 30px;
			width: 100%;
			box-sizing: border-box;
		}

		.season-rankings .Title1,
		.season-rankings .Title2,
		.season-rankings .Title3 {
			flex: 1;
			min-width: 30%;
			/* 确保最小宽度 */
			background: white;
			/* 添加背景色 */
			border-radius: 15px;
			/* 添加圆角 */
			padding: 20px;
			/* 添加内边距 */
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
			/* 添加阴影 */
			box-sizing: border-box;
			/* 确保内边距不影响宽度 */
		}

		.season-rankings .Title1 h3,
		.season-rankings .Title2 h3,
		.season-rankings .Title3 h3 {
			font-size: 36px;
			margin-bottom: 20px;
			text-align: center;
		}

		.season-rankings ul {
			padding: 0;
			margin: 0;
			list-style: none;
		}

		@media (max-width: 1100px) {
			.season-rankings .ranklist {
				flex-wrap: wrap;
			}

			.season-rankings .Title1,
			.season-rankings .Title2,
			.season-rankings .Title3 {
				min-width: 45%;
				margin-bottom: 20px;
			}
		}

		@media (max-width: 768px) {

			.season-rankings .Title1,
			.season-rankings .Title2,
			.season-rankings .Title3 {
				min-width: 100%;
			}
		}

		/* 奖项全宽调整 */
		.award-section {
			width: 100%;
			padding: 40px;
			box-sizing: border-box;
			background: white;
			/* 添加背景色 */
			border-radius: 15px;
			/* 添加圆角 */
			position: relative;
			/* 确保伪元素定位正确 */
			overflow: hidden;
			/* 隐藏超出圆角的部分 */
			box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
			/* 添加阴影 */
		}

		.award-section::before {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 5px;
			background: linear-gradient(to right, #e74c3c, #3498db, #2ecc71, #9b59b6);
			z-index: 1;
		}

		.award-header {
			text-align: center;
			margin-bottom: 40px;
			position: relative;
		}

		.award-header h2 {
			font-size: 2.8rem;
			color: #2c3e50;
			margin-bottom: 15px;
			position: relative;
			display: inline-block;
			padding: 0 20px;
		}

		.award-header h2::before,
		.award-header h2::after {
			content: "";
			position: absolute;
			top: 50%;
			width: 100px;
			height: 3px;
			background: linear-gradient(to right, #e74c3c, #3498db);
		}

		.award-header h2::before {
			left: -110px;
		}

		.award-header h2::after {
			right: -110px;
		}

		.award-header h2 i {
			font-size: 40px;
		}

		.award-header p {
			font-size: 1.2rem;
			color: #7f8c8d;
			max-width: 800px;
			margin: 0 auto;
			line-height: 1.6;
		}

		.season-info {
			text-align: center;
			background: #f8f9fa;
			padding: 15px;
			font-size: 1.1rem;
			border-radius: 10px;
			margin: 30px auto;
			max-width: 800px;
			border-left: 5px solid #e74c3c;
			border-right: 5px solid #e74c3c;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
		}

		.season-info span {
			font-weight: bold;
			color: #3498db;
			margin: 0 10px;
		}

		/* 奖项展示模块 - 方形头像设计 */
		.Award {
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			gap: 20px;
			padding: 20px;
		}

		@media (min-width: 1024px) {
			.award-item {
				flex: 1;
				/* Distribute space equally */
				min-width: 230px;
				/* Minimum width */
				max-width: 260px;
				/* Maximum width */
			}
		}

		/* Larger screens */
		@media (min-width: 1280px) {
			.award-item {
				max-width: 280px;
				/* Slightly larger on bigger screens */
			}
		}

		.award-item {
			width: 240px;
			text-align: center;
			background: white;
			border-radius: 12px;
			overflow: hidden;
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			position: relative;
			z-index: 2;
			cursor: pointer;
			transition: transform 0.3s ease;
		}

		.award-item:hover {
			transform: translateY(-15px) scale(1.03);
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
			z-index: 3;
			transform: translateY(-5px);
		}

		.award-title {
			color: white;
			padding: 20px 15px;
			font-size: 1.5rem;
			font-weight: bold;
			position: relative;
			letter-spacing: 1px;
			text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			overflow: visible;
		}

		.award-title.champion {
			background: linear-gradient(45deg, #e74c3c, #c0392b);
		}

		.award-title.high-point {
			background: linear-gradient(45deg, #3498db, #2980b9);
		}

		.award-title.avoid-fourth {
			background: linear-gradient(45deg, #2ecc71, #27ae60);
		}

		.award-title.full-attendance {
			background: linear-gradient(45deg, #9b59b6, #8e44ad);
		}

		.award-icon {
			position: absolute;
			top: 20px;
			left: 10px;
			background: white;
			width: 40px;
			height: 40px;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
		}

		.award-icon i {
			font-size: 24px;
		}

		.champion .award-icon i {
			color: #e74c3c;
		}

		.high-point .award-icon i {
			color: #3498db;
		}

		.avoid-fourth .award-icon i {
			color: #2ecc71;
		}

		.full-attendance .award-icon i {
			color: #9b59b6;
		}

		.player-photo {
			padding: 25px 20px 20px;
			position: relative;
		}

		/* 方形头像设计 */
		.player-photo img {
			width: 160px;
			height: 160px;
			object-fit: cover;
			border: 5px solid #ecf0f1;
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
			border-radius: 8px;
			/* 轻微圆角 */
			transition: all 0.3s ease;
		}

		.award-item:hover .player-photo img {
			transform: scale(1.05);
			box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
		}

		.player-name {
			padding: 20px 15px;
			background: #f8f9fa;
			font-size: 1.4rem;
			font-weight: bold;
			color: #2c3e50;
			position: relative;
		}

		.player-name::before {
			content: "";
			position: absolute;
			top: 0;
			left: 50%;
			transform: translateX(-50%);
			width: 60px;
			height: 3px;
			background: #3498db;
		}

		.medal {
			position: absolute;
			top: 5px;
			/* Center vertically */
			right: 20px;
			transform: translateY(-50%);
			/* Perfect vertical centering */
			font-size: 40px !important;
			width: 40px;
			height: 40px;
			filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.2));
			z-index: 10;
		}

		.medal i {
			/* Target the icon element directly */
			display: inline-block !important;
			width: 100% !important;
			height: 100% !important;
			font-size: inherit !important;
			/* Force inheritance */
		}

		.champion .medal {
			color: gold;
		}

		.high-point .medal {
			color: #9b59b6;
		}

		.avoid-fourth .medal {
			color: #9b59b6;
		}

		/* bronze */
		.full-attendance .medal {
			color: silver;
		}

		.stats {
			display: flex;
			justify-content: center;
			padding: 15px 10px;
			background: #f1f2f6;
			border-top: 1px solid #e0e0e0;
		}

		.stat-item {
			padding: 0 15px;
			border-right: 1px solid #ddd;
		}

		.stat-item:last-child {
			border-right: none;
		}

		.stat-value {
			font-size: 1.2rem;
			font-weight: bold;
			color: #2c3e50;
		}

		.stat-label {
			font-size: 0.85rem;
			color: #7f8c8d;
			margin-top: 5px;
		}

		/* 响应式设计 */
		@media (max-width: 1100px) {
			.Award {
				gap: 25px;
			}

			.award-item {
				width: 220px;
			}
		}

		@media (max-width: 900px) {
			.Award {
				gap: 20px;
			}

			.award-item {
				width: 45%;
				max-width: 280px;
			}

			.award-header h2 {
				font-size: 2.3rem;
			}

			.award-header h2::before,
			.award-header h2::after {
				width: 50px;
			}

			.award-header h2::before {
				left: -60px;
			}

			.award-header h2::after {
				right: -60px;
			}
		}

		@media (max-width: 600px) {
			.Award {
				flex-direction: column;
				align-items: center;
				gap: 35px;
			}

			.award-item {
				width: 90%;
				max-width: 320px;
			}

			.award-header h2 {
				font-size: 2rem;
			}

			.award-header h2::before,
			.award-header h2::after {
				display: none;
			}

			.award-section {
				padding: 30px 20px;
			}
		}
	</style>
</head>

<body>
	<div class="top">
		<img src="img/Group 1.svg" alt="logo">
	</div>
	<div class="container">
		<!-- ===== 添加位置：在 <div class="game"> 之后，<div class="award-section"> 之前 ===== -->
		<div id="season-data" style="display:none;">
			<!-- 2025年春季季后赛 -->
			<div class="season" data-id="2025SpringPlayoff" data-name="2025年春季季后赛" data-start="2025年6月8日"
				data-end="2025年6月9日" data-players="4">

				<!-- 选手数据 -->
				<div class="player" data-name="2yrold" data-point="31.0" data-highScore="44200" data-avoidanceRate="1.000">
				</div>
				<div class="player" data-name="Haraki" data-point="+19.8" data-highScore="34600" data-avoidanceRate="0.667">
				</div>
				<div class="player" data-name="Dawn" data-point="-50.3" data-highScore="30700" data-avoidanceRate="0.667">
				</div>
				<div class="player" data-name="zhunzhun" data-point="-1.5" data-highScore="37000" data-avoidanceRate="0.667">
				</div>

				<!-- 只提供冠军奖项 -->
				<div class="award" data-type="champion" data-name="2yrold" data-avatar="img/members/2yrold.jpg"
					data-ranking="1" data-point="+31.0" data-highScore="44200"></div>
			</div>
			<!-- 2025年春季赛 -->
			<div class="season" data-id="2025Spring" data-name="2025年春季赛" data-start="2025年3月1日" data-end="2025年5月31日"
				data-players="6">
				<!-- 选手数据 -->
				<div class="player" data-name="2yrold" data-point="17.2" data-highScore="53100"
					data-avoidanceRate="0.833"></div>
				<div class="player" data-name="Haraki" data-point="166.3" data-highScore="67900"
					data-avoidanceRate="0.789"></div>
				<div class="player" data-name="多元外卷人" data-point="-39.7" data-highScore="29300"
					data-avoidanceRate="0.667"></div>
				<div class="player" data-name="Dawn" data-point="110.4" data-highScore="63800"
					data-avoidanceRate="0.706"></div>
				<div class="player" data-name="Koihs" data-point="-47.9" data-highScore="21400"
					data-avoidanceRate="1.000"></div>
				<div class="player" data-name="Xiaobukeai" data-point="-239.5" data-highScore="61700"
					data-avoidanceRate="0.650"></div>

				<!-- 奖项数据 -->
				<div class="award" data-type="champion" data-name="Haraki" data-avatar="img/members/Haraki.jpg"
					data-ranking="1" data-point="+166.3" data-highScore="67,900"></div>
				<div class="award" data-type="high-point" data-name="Haraki" data-avatar="img/members/Haraki.jpg"
					data-ranking="1" data-point="+166.3" data-highScore="67,900"></div>
				<div class="award" data-type="avoid-fourth" data-name="2yrold" data-avatar="img/members/2yrold.jpg"
					data-ranking="3" data-point="+17.2" data-avoidanceRate="0.833"></div>
				<div class="award" data-type="full-attendance" data-name="Xiaobukeai"
					data-avatar="img/members/Xiaobukeai.jpg" data-ranking="6" data-point="-239.5"
					data-attendance="100%"></div>
			</div>
		</div>
	</div>
	<div id="seasons-container"></div>
	<div class="footer-note">
		<p>TanYauLEAGUE | 数据更新于 2025年6月1日</p>
	</div>
	<div id="clickEffectContainer"></div>
	<script>
		const seasonDatabase = {};

		// 页面加载时从HTML提取数据
		document.addEventListener('DOMContentLoaded', function () {
			// 从HTML收集赛季数据
			document.querySelectorAll('#season-data .season').forEach(seasonEl => {
				const seasonId = seasonEl.dataset.id;

				seasonDatabase[seasonId] = {
					seasonName: seasonEl.dataset.name,
					startDate: seasonEl.dataset.start,
					endDate: seasonEl.dataset.end,
					playersCount: seasonEl.dataset.players,
					players: [],
					awards: {}
				};

				// 收集选手数据
				seasonEl.querySelectorAll('.player').forEach(playerEl => {
					seasonDatabase[seasonId].players.push({
						name: playerEl.dataset.name,
						point: parseFloat(playerEl.dataset.point),
						highScore: parseInt(playerEl.dataset.highscore),
						avoidanceRate: parseFloat(playerEl.dataset.avoidancerate)
					});
				});

				// 收集奖项数据
				seasonEl.querySelectorAll('.award').forEach(awardEl => {
					const awardType = awardEl.dataset.type;
					seasonDatabase[seasonId].awards[awardType] = {
						name: awardEl.dataset.name,
						avatar: awardEl.dataset.avatar,
						ranking: awardEl.dataset.ranking,
						point: awardEl.dataset.point,
						highScore: awardEl.dataset.highscore,
						avoidanceRate: awardEl.dataset.avoidancerate,
						attendance: awardEl.dataset.attendance
					};
				});
			});

			// 设置最新赛季ID
			const latestSeasonId = Object.keys(seasonDatabase)[0];
			const latestSeason = seasonDatabase[latestSeasonId];

			// 渲染所有赛季的奖项
			renderAllSeasons();

			// 更新底部日期
			document.getElementById('update-date').textContent =
				new Date().toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric' });
		});

		// 重构的排行榜渲染器
		const RankRenderer = {
			_generatePlayerHTML: function (player, rank, criteria) {
				const isFirst = rank === 0;
				const bgColor = isFirst ? "#3b863e" : "#ffffff";
				const textColor = isFirst ? "white" : "black";
				const fontWeight = rank >= 3 ? "400" : "normal";

				// 根据标准格式化值
				let value;
				if (criteria === 'point') {
					value = (player.point >= 0 ? "+" : "") + player.point.toFixed(1);
				} else if (criteria === 'highScore') {
					value = player.highScore.toLocaleString();
				} else {
					value = player.avoidanceRate.toFixed(3);
				}

				return `
        <li style="background-color: ${bgColor}">
            <ol>
                <li>
                    <svg width="24px" height="40px" style="vertical-align: middle;position: relative">
                        <circle cx="12" cy="16" r="12" fill="white" />
                        <text x="12" y="22" font-family="Times New Roman" font-size="16"
                            text-anchor="middle" fill="${isFirst ? "#3b863e" : "black"}" 
                            ${rank >= 3 ? 'style="font-weight:400"' : ''}>${rank + 1}
                        </text>
                    </svg>
                    <p style="display:inline; color:${textColor}; ${rank >= 3 ? 'font-weight:400;' : ''}">
                        ${player.name}
                    </p>
                    <span style="display:inline; color:${textColor}">${value}</span>
                </li>
            </ol>
        </li>`;
			},

			renderRanking: function (selector, players, criteria) {
				const containers = document.querySelectorAll(selector);
				if (!containers.length) return;

				// 对所有容器应用相同的排行榜
				containers.forEach(container => {
					let sortedPlayers = [...players];

					if (criteria === 'point') {
						sortedPlayers.sort((a, b) => b.point - a.point);
					} else if (criteria === 'highScore') {
						sortedPlayers.sort((a, b) => b.highScore - a.highScore);
					} else if (criteria === 'avoidanceRate') {
						sortedPlayers.sort((a, b) => b.avoidanceRate - a.avoidanceRate);
					}
					container.innerHTML = sortedPlayers.map((player, index) =>
						this._generatePlayerHTML(player, index, criteria)
					).join("");
				});
			},

			renderAllRankings: function (players) {
				this.renderRanking('pointRanking', players, 'point');
				this.renderRanking('highScoreRanking', players, 'highScore');
				this.renderRanking('avoidanceRanking', players, 'avoidanceRate');
			}
		};

		function renderAllSeasons() {
			const container = document.getElementById('seasons-container');
			container.innerHTML = '';

			// 按赛季ID排序（新赛季在前）
			const sortedSeasonIds = Object.keys(seasonDatabase).sort().reverse();

			sortedSeasonIds.forEach(seasonId => {
				const season = seasonDatabase[seasonId];
				const awards = season.awards;

				// 1. 添加排行榜部分（独立全宽区块）
				container.innerHTML += `
      <div class="full-section">
        <div class="season-rankings">
          <div class="game">
            <div class="leftpart">
              <img src="img/${seasonId}.png" width="225" height="71">
            </div>
            <div class="ranklist">
              <div class="Title1">
                <h3>個人スコア</h3>
                <ul class="pointRanking" data-season="${seasonId}"></ul>
              </div>
              <div class="Title2">
                <h3>最高スコア</h3>
                <ul class="highScoreRanking" data-season="${seasonId}"></ul>
              </div>
              <div class="Title3">
                <h3>4着回避率</h3>
                <ul class="avoidanceRanking" data-season="${seasonId}"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>`;

				// 2. 添加奖项部分（独立全宽区块）
				container.innerHTML += `
      <div class="full-section">
        <div class="award-section">
          <div class="award-header">
            <h2><i class="fas fa-trophy"></i> 获奖名单</h2>
            <p>经过激烈角逐，以下选手在比赛中脱颖而出，获得了各项荣誉奖项</p>
          </div>
          <div class="season-info">
            <i class="fas fa-calendar-alt"></i> 比赛赛季: <span>${season.seasonName}</span> |
            <i class="fas fa-clock"></i> 比赛日期: <span>${season.startDate}-${season.endDate}</span> |
            <i class="fas fa-users"></i> 参赛选手: <span>${season.playersCount}人</span>
          </div>
          <div class="Award">
            ${generateAwardItem(awards.champion, 'champion', '冠军', 'fas fa-crown')}
            ${generateAwardItem(awards['high-point'], 'high-point', '最高得点賞', 'fas fa-star')}
            ${generateAwardItem(awards['avoid-fourth'], 'avoid-fourth', '避四賞', 'fas fa-shield-alt')}
            ${generateAwardItem(awards['full-attendance'], 'full-attendance', '全勤賞', 'fas fa-calendar-check')}
          </div>
        </div>
      </div>`;
			});

			// 渲染排行榜
			sortedSeasonIds.forEach(seasonId => {
				const season = seasonDatabase[seasonId];
				RankRenderer.renderRanking(
					`.pointRanking[data-season="${seasonId}"]`,
					season.players,
					'point'
				);
				// 最高得分榜（添加这部分）
				RankRenderer.renderRanking(
					`.highScoreRanking[data-season="${seasonId}"]`,
					season.players,
					'highScore'
				);
				// 回避率榜（添加这部分）
				RankRenderer.renderRanking(
					`.avoidanceRanking[data-season="${seasonId}"]`,
					season.players,
					'avoidanceRate'
				);
			});

			// 添加点击事件
			document.querySelectorAll('.award-item').forEach(card => {
				card.addEventListener('click', () => {
					window.location.href = 'Award_Instructions.html';
				});
			});
		}




		// 生成奖项项目HTML
		function generateAwardItem(award, type, title, icon) {
			if (!award) return '';

			const isChampion = type === 'champion';
			const hasAvoidance = type === 'avoid-fourth';
			const hasAttendance = type === 'full-attendance';

			const medalColor = isChampion ? 'gold' : (hasAttendance ? 'silver' : '#9b59b6');

			return `
  <div class="award-item">
    <div class="award-title ${type}">
      <div class="award-icon">
        <i class="${icon}"></i>
      </div>
      <div class="medal">
        <i class="fas fa-medal"></i>
      </div>
      ${title}
    </div>
    <div class="player-photo">
      <img src="${award.avatar}" alt="${award.name}">
    </div>
    <div class="player-name">${award.name}</div>
    <div class="stats">
      <div class="stat-item">
        <div class="stat-value">${award.ranking}位</div>
        <div class="stat-label">总排名</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">${award.point}</div>
        <div class="stat-label">个人得分</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">${hasAvoidance ? award.avoidanceRate :
					hasAttendance ? award.attendance :
						award.highScore
				}</div>
        <div class="stat-label">${hasAvoidance ? "回避率" :
					hasAttendance ? "出勤率" :
						"最高得分"
				}</div>
      </div>
    </div>
  </div>`;
		}
		; (function () {
			const TEXTS = [];
			const TEXT_COLORS = [];
			const container = document.createElement('div');
			container.id = 'clickEffectContainer';
			container.style.cssText = `
        position: fixed; top: 0; left: 0; 
        width: 100%; height: 100%;
        pointer-events: none;
        z-index: 9999;
    `;
			document.body.appendChild(container);
			const EXCLUDE_SELECTORS = [
				'button', 'a', 'input', 'select', 'textarea',
				'[onclick]', '.nav-item', '.menu-btn'
			];
			document.addEventListener('click', (e) => {
				if (!EXCLUDE_SELECTORS.some(sel => e.target.closest(sel))) {
					createTextEffect(e.clientX, e.clientY);
					createPeachBlossomEffect(e.clientX, e.clientY);
					window.clickCount = (window.clickCount || 0) + 1;
				}
			}, true);
			function createTextEffect(x, y) {
				const effect = document.createElement('div');
				effect.style.cssText = `
            position: absolute;
            left: ${x}px; top: ${y}px;
            font: bold 18px 楷体, KaiTi;
            color: ${TEXT_COLORS[window.clickCount % TEXT_COLORS.length]};
            pointer-events: none;
            user-select: none;
            animation: float 2s forwards;
            text-shadow: 0 0 5px rgba(255,255,255,0.7);
            z-index: 10000;
        `;
				effect.textContent = TEXTS[window.clickCount % TEXTS.length];
				container.appendChild(effect);
				setTimeout(() => effect.remove(), 2000);
			}
			function createPeachBlossomEffect(x, y) {
				const petalCount = 15;
				const duration = 3000;
				const petalSVG = encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path fill="#FFEEF7" d="M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8M12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11M19,17V19H5V17C5,14.8 8.1,13 12,13C15.9,13 19,14.8 19,17Z"/>
                <path fill="#FFD6EB" d="M12,4C11.4,4 11,4.4 11,5C11,5.6 11.4,6 12,6C12.6,6 13,5.6 13,5C13,4.4 12.6,4 12,4Z"/>
            </svg>
        `);
				for (let i = 0; i < petalCount; i++) {
					const petal = document.createElement('div');
					const size = 15 + Math.random() * 10;
					const rotation = Math.random() * 360;
					const delay = Math.random() * 500;
					petal.style.cssText = `
                position: absolute;
                left: ${x}px;
                top: ${y}px;
                width: ${size}px;
                height: ${size}px;
                background: url('data:image/svg+xml;utf8,${petalSVG}');
                background-size: contain;
                pointer-events: none;
                z-index: 9998;
                opacity: 0.9;
                transform: rotate(${rotation}deg);
                animation: petal-fall ${duration}ms ease-out ${delay}ms forwards;
                filter: drop-shadow(0 0 2px rgba(255,200,230,0.7));
            `;
					container.appendChild(petal);
					const angle = Math.random() * Math.PI * 2;
					const distance = 50 + Math.random() * 100;
					const endX = x + Math.cos(angle) * distance;
					const endY = y + Math.sin(angle) * distance + 100;
					const keyframes = `
                @keyframes petal-fall-${i} {
                    0% { 
                        transform: translate(0, 0) rotate(${rotation}deg); 
                        opacity: 0.9;
                    }
                    100% { 
                        transform: translate(${endX - x}px, ${endY - y}px) rotate(${rotation + 180}deg);
                        opacity: 0;
                    }
                }
            `;
					const style = document.createElement('style');
					style.textContent = keyframes;
					document.head.appendChild(style);
					petal.style.animationName = `petal-fall-${i}`;
					setTimeout(() => petal.remove(), duration + delay);
				}
			}
			const style = document.createElement('style');
			style.textContent = `
        @keyframes float {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }
    `;
			document.head.appendChild(style);
		})();
		document.querySelectorAll('.award-item').forEach(card => {
			card.addEventListener('click', () => {
				window.location.href = 'Award_Instructions.html';
			});
		});
	</script>
</body>
<script type="text/javascript">
	const directory = document.querySelectorAll('.target-fix');
	const links = document.querySelectorAll('.top a');
	const dropdownLinks = document.querySelectorAll('.dropdown-content a');
	const dropbtn = document.querySelector('.dropbtn');
	window.addEventListener('scroll', function () {
		let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
		let ed = -1;
		links.forEach(link => link.classList.remove("selected"));
		dropbtn.classList.remove("selected");
		for (let i = 0; i < directory.length; i++) {
			if (directory[i].offsetTop <= scrollTop + 10) {
				ed = i;
			}
		}
		if (ed !== -1) {
			links[ed].classList.add("selected");
			const selectedLink = links[ed];
			const isDropdownItem = Array.from(dropdownLinks).includes(selectedLink);
			if (isDropdownItem) {
				dropbtn.classList.add("selected");
			}
		}
	});
	window.onresize = () => {
		if (window.innerWidth < 686) document.querySelector('.top ul').style.display = "none";
		else document.querySelector('.top ul').style.display = "block";
	}
</script>

</html>