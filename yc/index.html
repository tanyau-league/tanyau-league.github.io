<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>Yauchann | TanYauLEAGUE</title>
		<link rel="icon" href="main.ico">
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100;300;500;700;900&display=swap"
			rel="stylesheet">
		<link
			href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
			rel="stylesheet">
		<link rel="stylesheet" href="haraki.css">
		<script src="writein.js"></script>
	</head>
	<body>
		<div class="haiiro"></div>

		<div class="correction window windowblur">
			<button onclick="modoru()">取消</button>
			<ul>
				<li>当前局（1~8）<input type="text"></li>
				<li>本场数<input type="text"></li>
				<li>供托数<input type="text"></li>
				<li>选手1 <span></span> 点数<input type="text"></li>
				<li>选手2 <span></span> 点数<input type="text"></li>
				<li>选手3 <span></span> 点数<input type="text"></li>
				<li>选手4 <span></span> 点数<input type="text"></li>
				<br>
				<li>核算总点数 <span></span> <button class="planb" onclick="chr()">地址栏不可隐藏点我</button></li>

			</ul>
			<button class="submit" onclick="correct()">确认</button>
		</div>
		<div class="kessan window">
			<button onclick="modoru()">取消</button>
			<h2>点数变动</h2>
			<div class="namelen">
				<span id="playerA">选手A</span>
				<span id="oyaku">（庄/闲）</span>
				<span id="agariway">自摸/荣和</span>
				<span class="playerB" onclick="houchuu(1)">选手B</span>
				<span class="playerB" onclick="houchuu(2)">选手C</span>
				<span class="playerB" onclick="houchuu(3)">选手D</span>
			</div>
			<div class="fandiv">
				<ul id="fan">
					<li onclick="fan(1)">&nbsp;&nbsp;&nbsp;1番&nbsp;&nbsp;&nbsp;</li>
					<li onclick="fan(2)">&nbsp;&nbsp;&nbsp;2番&nbsp;&nbsp;&nbsp;</li>
					<li onclick="fan(3)">&nbsp;&nbsp;&nbsp;3番&nbsp;&nbsp;&nbsp;</li>
					<li onclick="fan(4)">&nbsp;&nbsp;&nbsp;4番&nbsp;&nbsp;&nbsp;</li>
					<li onclick="fan(5)">满贯（5番）</li>
					<li onclick="fan(6)">跳满（6~7番）</li>
					<li onclick="fan(7)">倍满（8~10番）</li>
					<li onclick="fan(8)">三倍满（11~12番）</li>
					<li onclick="fan(9)">役满（13番以上）</li>
					<li onclick="fan(10)">&nbsp;两倍役满&nbsp;</li>
					<li onclick="fan(11)">&nbsp;三倍役满&nbsp;</li>
					<li onclick="fan(12)">&nbsp;四倍役满&nbsp;</li>
					<li onclick="fan(13)">&nbsp;五倍役满&nbsp;</li>
					<li onclick="fan(14)">&nbsp;六倍役满&nbsp;</li>
				</ul>
			</div>
			<div class="fudiv">
				<ul id="fu">
					<li onclick="fu(1)">20符</li>
					<li onclick="fu(2)">25符</li>
					<li onclick="fu(3)">30符</li>
					<li onclick="fu(4)">40符</li>
					<li onclick="fu(5)">50符</li>
					<li onclick="fu(6)">60符</li>
					<li onclick="fu(7)">70符</li>
					<li onclick="fu(8)">80符</li>
					<li onclick="fu(9)">90符</li>
					<li onclick="fu(10)">100符</li>
					<li onclick="fu(11)">110符</li>
				</ul>
			</div>
			<p id="fscore">0</p>
			<button id="submit" onclick="submit()">确认</button>
		</div>
		<div class="ryk window windowblur">
			<button onclick="modoru()" class="cancel">取消</button>
			<button class="chuuto" onclick="tsuki(2)">途中流局</button>
			<button class="jicha kas" onclick="tennpai(1)">未听/听牌</button>
			<button class="shimocha kas" onclick="tennpai(2)">未听/听牌</button>
			<button class="toicha kas" onclick="tennpai(3)">未听/听牌</button>
			<button class="kamicha kas" onclick="tennpai(4)">未听/听牌</button>
			<button class="jicha tas" onclick="ryuumann(1)">流局满贯</button>
			<button class="shimocha tas" onclick="ryuumann(2)">流局满贯</button>
			<button class="toicha tas" onclick="ryuumann(3)">流局满贯</button>
			<button class="kamicha tas" onclick="ryuumann(4)">流局满贯</button>
			<button class="ryuukyoku" onclick="tsuki(1)">确认<br>流局</button>
		</div>
		<ol>
			<li>
				<div id="mainpage">
					<img src="Group 1.svg" alt="">
					<h1>Yauchann</h1>
					<p>立直麻将对局计分</p>
					<button onclick="wap(1)">开始</button>
					<span>在平板上获得更好的使用体验<br>by Haraki</span>
					<div class="tsukaikata" onclick="wap(3)">使用说明</div>
				</div>
			</li>
			<li>
				<div id="game">
					<div class="jicha">
						<h1>25000</h1>
						<button class="tsumo" onclick="tsumo(1)">自摸</button>
						<button class="agari" onclick="ron(1)">荣和</button>
						<button class="reach" onclick="reach(1)">立直</button>
						<span class="kaze">東</span><input placeholder="请输入选手名" value="">
					</div>
					<div class="shimocha">
						<h1>25000</h1>
						<button class="tsumo" onclick="tsumo(2)">自摸</button>
						<button class="agari" onclick="ron(2)">荣和</button>
						<button class="reach" onclick="reach(2)">立直</button>
						<span class="kaze">南</span><input placeholder="请输入选手名" value="">
					</div>
					<div class="toicha">
						<h1>25000</h1>
						<button class="tsumo" onclick="tsumo(3)">自摸</button>
						<button class="agari" onclick="ron(3)">荣和</button>
						<button class="reach" onclick="reach(3)">立直</button>
						<span class="kaze">西</span><input placeholder="请输入选手名" value="">
					</div>
					<div class="kamicha">
						<h1>25000</h1>
						<button class="tsumo" onclick="tsumo(4)">自摸</button>
						<button class="agari" onclick="ron(4)">荣和</button>
						<button class="reach" onclick="reach(4)">立直</button>
						<span class="kaze">北</span><input placeholder="请输入选手名" value="">
					</div>
					<div class="naka">
						<p id="honnba">东1局 0 本场</p>
						<p id="kyoutaku">立直棒 0</p>
						<button onclick="ryuukyoku()">流局</button>
					</div>
					<div class="next_round">
						<button onclick="tsuki(0)">下一局</button>
					</div>
					<div class="correct" onclick="shuusei()">修正</div>
					<!-- 
					<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=3&id=3071025351&auto=0&height=66"></iframe> -->
				</div>
			</li>
			<li>
				<div class="result">
					<h1>结果报告</h1>
					<ul class="res">
						<li>
							<span class="resi">1位 </span><span class="resname">选手 1</span>
							<span class="respoint">+0.0 点</span><span class="resscore">25000 点</span>
						</li>
						<li>
							<span class="resi">2位 </span><span class="resname">选手 2</span>
							<span class="respoint">+0.0 点</span><span class="resscore">25000 点</span>
						</li>
						<li>
							<span class="resi">3位 </span><span class="resname">选手 3</span>
							<span class="respoint">+0.0 点</span><span class="resscore">25000 点</span>
						</li>
						<li>
							<span class="resi">4位 </span><span class="resname">选手 4</span>
							<span class="respoint">+0.0 点</span><span class="resscore">25000 点</span>
						</li>
					</ul>
					<button style="margin-right:10vw;" onclick="new_game()">新的对局</button>
					<button style="margin-right:10vw;" onclick="upload()">上传数据</button>
					<button onclick="data_out()">数据文件</button>
				</div>
			</li>
			<li>
				<div class="hint">
					<h1>使用说明</h1>
					<ul>
						<li><a onclick="wap(0)" class="wapp">回到主页</a></li>
						<li>建议使用平板横屏使用，本软件的设计目标是电子场风盘。</li>
						<li>如果要回到主页，直接刷新即可。</li>
						<li>进入对局后，在每个方向的最外侧有输入选手名的输入框. 请按照东南西北对应座次输入。</li>
						<li>自己进入立直状态，点击自家操作区的立直按钮。误操作再点击可以取消。</li>
						<li>自己自摸，点自家的自摸按钮，然后选择番数符数。</li>
						<li>自己荣和（他人放铳），点自家的荣和按钮，选择放铳者和番数符数。</li>
						<li>和牌后点击中间的下一局进入下一局。</li>
						<li>荒牌流局点中间流局按钮，四家各自选择是否听牌，以及是否达成流局满贯。</li>
						<li>八局结束后进入结算，原点25000，返点30000，顺位马+50+10-10-30</li>
						<li>目前所有规则均默认 tanyau-league 规则。</li>
						<li>如果出现操作错误或存档丢失，可以点击修正按钮手动修正。</li>
						<li>如果平板端等无法隐藏地址栏导致显示不全，可以点击修正按钮点击功能按钮。</li>
						<li>——————————————————————————————————————</li>
						<li><a onclick="wap(4)" class="wapp">关于数据文件 .yc 格式的解说</a></li>
						<li><a onclick="wap(5)" class="wapp">开发者函数解释</a></li>
						<li><a onclick="wap(6)" class="wapp">联系开发者</a></li>
					</ul>
				</div>
			</li>
			<li>
				<div class="hint">
					<h1>数据文件.yc格式</h1>
					<ul class="dm">
						<li><a onclick="wap(3)" class="wapp">回到上一页</a></li>
						<li>可以使用文本类阅读器打开，类似于 txt。</li>
						<li>一共有多行，每一行是一个语句，语句的不同成分用空格分隔，句首单词代表本句种类。每行以 \r\n 结尾。</li>
						<li>以下为所有语句种类：代表选手的数字 [X]等取值1~4 代表起家为东南西北顺</li>
						<li>round [A] honnba [B] kyoutaku [C] 表示当前是第 [A] 场，本场数 [B]，供托 [C]。</li>
						<li>reach [X] -1000 表示选手 [X] 立直</li>
						<li>tsumo [X1] +[x1] [X2] -[x2] [X3] -[x3] [X4] -[x4] 表示 [X1] 自摸，选手后数字代表点数变动</li>
						<li>ron [X1] +[x1] [X2] -[x2] 表示 [X1] 荣和 [X2]，选手后数字代表点数变动</li>
						<li>agari_kyoutaku [X1] +[x1] 表示 [X1] 和牌后收取供托，选手后数字代表点数变动</li>
						<li>howannpai_ryuukyoku [X1] [x1] [X2] [x2] [X3] [x3] [X4] [x4] 表示荒牌流局，后面为罚符</li>
						<li>ryuumann [X1] +[x1] [X2] -[x2] [X3] -[x3] [X4] -[x4] 表示 [X1] 流局满贯，后面为点数变动</li>
						<li>chuuto_ryuukyoku 表示中途流局</li>
						<li>correct round [] honnba [] kyoutaku [] score 1 [] score 2 [] score 3 [] score 4 []
							表示手动修正，将前面的变量改为后面的值</li>
						<li>score_check [X1] [x1] [X2] [x2] [X3] [x3] [X4] [x4] 表示四家分数，供检查用，可不处理</li>
						<li>以上为操作语句. 当 round 语句 A=9 时代表半庄终止，输出 score_check 后会按如下格式依1234次序输出选手信息：</li>
						<li>player [n] [name] [score] [rank] [pt] 表示选手 [n(1~4)] 的名字为 [name]，终局点数 [score]，排名
							[rank]（同分同排名），[pt] 代表段位分*10</li>
					</ul>
				</div>
			</li>
			<li>
				<div class="hint">
					<h1>开发者函数解释</h1>
					<ul class="dm">
						<li><a onclick="wap(3)" class="wapp">回到上一页</a></li>
						<li>以下均为 js 函数解释，可以在 console 中试验。</li>
						<li>wap(n)：代表跳转到 n 页面. 0：主页，1：对局页面，2：结算页面，3：说明，4：数据格式说明，5：开发者函数解释，6：联系开发者</li>
						<li>refresh_data()：刷新对局页面的渲染</li>
						<li>logx("str")：输出日志到 logs</li>
						<li>其他函数用法和变量请自行阅读，虽然代码逻辑较混乱.</li>
						<li>禁用了缩放屏幕大小，以及safari强制的滑动缩放等。如果不能收起地址栏的平板，修正后中间板和自家板会向上移动。</li>
					</ul>
				</div>
			</li>
			<li>
				<div class="hint">
					<h1>联系开发者</h1>
					<ul class="dm">
						<li><a onclick="wap(3)" class="wapp">回到上一页</a></li>
						<br>
						<li style="font-size: 5vh; ">Haraki</li>
						<li style="font-size: 3vh; ">2150864207@qq.com</li>
						<br>
						<li>本项目是为 <a href="https://tanyau-league.github.io/" target="_blank"
								class="wapp">Tanyau-league</a> 组织而创作的.</li>
						<li>项目地址 <a href="https://github.com/tanyau-league/tanyau-league.github.io/tree/master/yc"
								target="_blank"
								class="wapp">https://github.com/tanyau-league/tanyau-league.github.io/tree/master/yc</a>
						</li>
					</ul>
				</div>
			</li>
		</ol>
	</body>
	<script src="index.js"></script>
</html>
